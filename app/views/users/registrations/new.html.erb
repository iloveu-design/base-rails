<h2>Sign up</h2>

<%= simple_form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
  <%= f.error_notification %>

  <div class="form-inputs">
    <%= f.input :email,
                required: true,
                autofocus: true,
                input_html: { autocomplete: "email" }%>
    <%= f.input :password,
                required: true,
                hint: ("#{@minimum_password_length} characters minimum" if @minimum_password_length),
                input_html: { autocomplete: "new-password" } %>
    <%= f.input :password_confirmation,
                required: true,
                input_html: { autocomplete: "new-password" } %>
    <div class="form-group">
      <label class="form-check">
        <input class="form-check-input" type="checkbox" id="sev_agree" />
        <label class="form-check-label" for="sev_agree">서비스 이용 약관에 동의합니다.</label>
      </label>
      <textarea class="form-control"><%= raw Policy.terms.body if Policy.terms.present? %></textarea>
    </div>
    <div class="form-group">
      <label class="form-check">
        <input class="form-check-input" type="checkbox" id="pri_agree" />
        <label class="form-check-label" for="pri_agree">개인정보 수집 및 이용에 동의합니다</label>
      </label>
      <textarea class="form-control"><%= raw Policy.privacy.body if Policy.privacy.present? %></textarea>
    </div>
  </div>

  <div class="form-actions">
    <%= f.button :submit, "Sign up" %>
  </div>

  <script>
      $(function(){
          $("#new_user").on("submit", function(){
              if(!$("#sev_agree").is(":checked")){
                  alert('서비스 이용 약관에 동의 하셔야 합니다.');
                  $("#sev_agree").focus();
                  return false;
              }else if(!$("#pri_agree").is(":checked")){
                  alert('개인정보 수집 및 이용에 동의 하셔야 합니다.');
                  $("#pri_agree").focus();
                  return false;
              }
          });
      });
  </script>
<% end %>

<%= render "users/shared/links" %>
